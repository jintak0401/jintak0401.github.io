---
title: "[λ°±μ¤€ 17071] μ¨λ°”κΌ­μ§ 5 (νμ΄μ¬ / Python)"
author: HashTable
categories: [μ•κ³ λ¦¬μ¦, λ°±μ¤€]
tags: [μ•κ³ λ¦¬μ¦, λ°±μ¤€, BFS]
date: 2022-04-12 11:40:00 +0900
math: true
---

---
## π“‘ λ¬Έμ 

λ¬Έμ λ§ν¬ : [μ¨λ°”κΌ­μ§ 5](https://www.acmicpc.net/problem/17071){:target="_blank"}

---
## π¤” μƒκ°μ νλ¦„

λ°©λ¬Έν• μΉΈμ— λ‹¤μ‹ λ°©λ¬Έν•μ§€ μ•μ•„λ„ λλ” BFS λ¬Έμ λ΅ μƒκ°ν–μµλ‹λ‹¤. κ·Έλ°λ° N = 3, K = 0 μΈ κ²½μ°,
Kκ°€ 0 β†’ 1 β†’ 3 μΌλ΅ λ³€ν•  λ•, Nμ΄ 3 β†’ 2 β†’ 3 μ΄μ–΄μ•Ό μµμ†κ°€ λ©λ‹λ‹¤. κ²½μ°μ— λ”°λΌ λ°©λ¬Έν• μ„μΉμ— μ¬λ°©λ¬Έν•΄μ•Όν•λ”
κ²½μ°κ°€ μλ”λΌκµ¬μ”.

κ·Έλ°λ° λ°©λ¬Έν• μ„μΉμ— λ‹¤μ‹ κ°€λ ¤λ©΄ 2μ΄κ°€ ν•„μ”ν•©λ‹λ‹¤. N + 1 νΉμ€ N - 1 λ΅ κ°”λ‹¤κ°€ λ‹¤μ‹ N μΌλ΅ μ™€μ•Όν•λ‹κΉμ”.
κ·Έλμ„ λ°©λ¬Έν• μ„μΉμ— λ€ν• κΈ°λ΅μ„ μ§μ μ΄κ°€ μ§€λ‚¬μ„ λ•μ™€ ν™€μ μ΄κ°€ μ§€λ‚¬μ„ λ•, 2κ°€μ§€ κ²½μ°λ΅ λ‚λ„μ–΄ μƒκ°ν•΄μ•Ό ν•λ‹¤κ³  μƒκ°ν–μµλ‹λ‹¤.

ν™€μ μ΄κ°€ μ§€λ‚¬λ”λ° μ΄λ―Έ N μ΄ ν™€μ μ΄μ— λ°©λ¬Έν–λ κ³³μ΄λΌλ©΄, N μ€ N + 1 μ΄λ‚ N - 1 λ΅ κ°”λ‹¤κ°€ N μΌλ΅ λμ•„μ¤λ”
ν–‰λ™μ„ κ³„μ† λ°©λ¬Έν•λ©΄μ„ κΈ°λ‹¤λ¦¬κ³  μμΌλ©΄ λ§λ‚  μ μκ²λλ―€λ΅, κ·Έ λ•μ BFS λ‹¨κ³„κ°€ λ‹µμ΄ λ©λ‹λ‹¤.

---

## π― ν’€μ΄λ°©λ²•

**BFS** λ¬Έμ μ΄λ©°, μ‹κ°„λ³µμ΅λ„λ” $O(500,000)$ μ…λ‹λ‹¤.

> **visited[i][j]** : i = 0 μΈ κ²½μ° μ§μμ΄, i = 1 μΈ κ²½μ° ν™€μμ΄. μ„μΉ j μ— λ„μ°©ν–μ„ λ•μ BFS λ‹¨κ³„λ¥Ό μ €μ¥ν• λ¦¬μ¤νΈ
{:.prompt-info}

1. λ§¨ μ²μμ— N == K λΌλ©΄ 0 μ„ return ν•©λ‹λ‹¤.

2. μ΄κΈ°μ„μΉ Nμ„ νμ— λ„£κ³  K <= 500,000 μΈ λ™μ• BFS λ¥Ό μ§„ν–‰ν•©λ‹λ‹¤.

3. νμ— μ €μ¥λμ–΄ μλ” μ„μΉ pos λ΅λ¶€ν„°, pos - 1, pos + 1, 2 * pos κ°€ κµ¬κ°„ [0, 500,000] μ— μλ”μ§€ ν™•μΈν•κ³ ,
κµ¬κ°„ μ•μ— μλ‹¤λ©΄ visited λ¦¬μ¤νΈλ¥Ό μ΄μ©ν•μ—¬ μ΄μ „μ— ν„μ¬μ™€ κ°™μ€ ν™€/μ§ μ΄μ— λ°©λ¬Έν•μ  μλ”μ§€ ν™•μΈν•©λ‹λ‹¤.

4. λ°©λ¬Έν•μ  μ—†λ‹¤λ©΄ νμ— ν•΄λ‹Ή μ„μΉλ¥Ό λ„£μ–΄μ£Όκ³  visited μ— κΈ°λ΅ν•©λ‹λ‹¤.

5. K μ„μΉμ— ν„μ¬μ ν™€/μ§ μ΄μ— N μ΄ λ°©λ¬Έν•μ  μλ”μ§€ ν™•μΈν•κ³ , λ°©λ¬Έν•μ  μλ‹¤λ©΄ ν„μ¬μ BFS λ‹¨κ³„λ¥Ό return ν•©λ‹λ‹¤.
λ°©λ¬Έν• μ μ΄ μ—†λ‹¤λ©΄ K λ¥Ό μ΅°κ±΄μ— λ§κ² μ΄λ™μ‹μΌμ£Όκ³  λ‹¤μ BFS λ‹¨κ³„λ¥Ό μν–‰ν•©λ‹λ‹¤.

6. K <= 500,000 μΈ λ™μ• λ§λ‚  μ μ—†μ—λ‹¤λ©΄ -1 μ„ return ν•΄μ¤λ‹λ‹¤.

---
## π” μ μν•  μ 

* μ΄ λ¬Έμ λ” λ°©λ¬Έν• μ„μΉμ— λ‹¤μ‹ λ°©λ¬Έν•  μ μμµλ‹λ‹¤. ν•μ§€λ§ λ‹¤μ‹ λ°©λ¬Έν•κΈ° μ„ν•΄μ„λ” 2μ΄κ°€ ν•„μ”ν•λ―€λ΅,
μ§μμ΄μ™€ ν™€μμ΄λ΅ λ‚λ„μ–΄μ„ ν’€μ–΄μ•Ό ν•©λ‹λ‹¤.

---

## π’» μ½”λ“

### κ°€λ…μ„±μ΄ μΆ‹μ€ μ½”λ“
```python
from sys import stdin

input = stdin.readline


def solve():
    N, K = map(int, input().split())

    if N == K:
        return 0

    visited = [[0] * 500_001 for _ in range(2)]
    que = [N]
    K += 1
    ans, i = 1, 2
    while K <= 500_000:
        new_que = []
        is_odd = i & 1
        for pos in que:
            for p in [pos - 1, pos + 1, 2 * pos]:
                if 0 <= p <= 500_000 and not visited[is_odd][p]:
                    visited[is_odd][p] = ans
                    new_que.append(p)

        que = new_que

        if visited[is_odd][K]:
            return ans

        ans += 1
        K += i
        i += 1

    return -1


if __name__ == '__main__':
    print(solve())
```

### μ΅°κΈ λ” λΉ λ¥Έ μ½”λ“
```python
from sys import stdin

input = stdin.readline


def solve():
    N, K = map(int, input().split())

    if N == K:
        return 0

    ans = 1
    visited = [[0] * 500_001 for _ in range(2)]
    que = [N]
    i = 2
    K += 1
    while K <= 500_000:
        new_que = []
        is_odd = i & 1
        for pos in que:
            # pos - 1
            p = pos - 1
            if 0 <= p and not visited[is_odd][p]:
                visited[is_odd][p] = ans
                new_que.append(p)

            # 2 * pos <= max_pos μΈ κ²½μ°, pos + 1 <= max_pos μ΄λ‹¤
            p = 2 * pos
            if p <= 500_000:
                # 2 * pos
                if not visited[is_odd][p]:
                    visited[is_odd][p] = ans
                    new_que.append(p)

                # pos + 1
                p = pos + 1
                if not visited[is_odd][p]:
                    visited[is_odd][p] = ans
                    new_que.append(p)

            # pos + 1
            elif pos < 500_000 and not visited[is_odd][pos + 1]:
                p = pos + 1
                visited[is_odd][p] = ans
                new_que.append(p)

        que = new_que

        if visited[is_odd][K]:
            return ans

        ans += 1
        K += i
        i += 1

    return -1


if __name__ == '__main__':
    print(solve())
```
