---
title: "[ë°±ì¤€ 2213] íŠ¸ë¦¬ì˜ ë…ë¦½ì§‘í•© (íŒŒì´ì¬ / Python)"
author: HashTable
categories: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, íŠ¸ë¦¬]
date: 2022-04-15 13:22:00 +0900
math: true
---

---
## ðŸ“‘ ë¬¸ì œ

ë¬¸ì œë§í¬ : [íŠ¸ë¦¬ì˜ ë…ë¦½ì§‘í•©](https://www.acmicpc.net/problem/2213){:target="_blank"}

---
## ðŸ¤” ìƒê°ì˜ íë¦„

ì²˜ìŒì—ëŠ” ê° ë…¸ë“œë§ˆë‹¤ ì„ íƒí–ˆì„ ë•Œì™€ ì„ íƒí•˜ì§€ ì•Šì•˜ì„ ë•Œ,
ë‘ ê²½ìš°ì˜ í•´ë‹¹ ë…¸ë“œë¶€í„° leaf ë…¸ë“œê¹Œì§€ì˜ ê°€ì¤‘ì¹˜ í•©ì„ ì €ìž¥í•˜ëŠ” dp ë¦¬ìŠ¤íŠ¸ì— ì €ìž¥í•˜ì—¬ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ë‹¤ë¥¸ ë¶„ì˜ í’€ì´ë¥¼ ë³´ë‹ˆ êµ³ì´ dp ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ë…¸ë“œì— ë°©ë¬¸í•  ë•Œë§ˆë‹¤ ì„ íƒí–ˆì„ ë•Œì™€ ì„ íƒí•˜ì§€ ì•Šì•˜ì„ ë•Œë¥¼
í•¨ê»˜ ê³„ì‚°í•´ ë‚˜ê°€ë©° í’€ì—ˆìŠµë‹ˆë‹¤. ì´ ë•Œì˜ ë¡œì§ê³¼ ì½”ë“œê°€ ë” ê°„ë‹¨í–ˆìŠµë‹ˆë‹¤.

---

## ðŸŽ¯ í’€ì´ë°©ë²•

**íŠ¸ë¦¬** ë¬¸ì œì´ë©°, ì‹œê°„ë³µìž¡ë„ëŠ” $O(N)$ ìž…ë‹ˆë‹¤.

> **arr** : ê°€ì¤‘ì¹˜ ë¦¬ìŠ¤íŠ¸. 1-based ë¡œ ì €ìž¥í•˜ê¸° ìœ„í•´ ë§¨ ì•žì— 0ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
>
> **tree** : ê° ë…¸ë“œì™€ ì—°ê²°ë˜ì–´ìžˆëŠ” ë‹¤ë¥¸ ë…¸ë“œê°€ ì €ìž¥ë˜ëŠ” 2ì°¨ì› ë¦¬ìŠ¤íŠ¸. ìž…ë ¥ë°›ìœ¼ë©´ì„œ ì–´ë–¤ ë…¸ë“œê°€ ë¶€ëª¨ë…¸ë“œì¸ì§€
> ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ìž…ë ¥ë°›ì€ ë‘ ë…¸ë“œ ëª¨ë‘ì— ì„œë¡œë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.
>
> **visited** : ì–´ë–¤ ë…¸ë“œê°€ ë¶€ëª¨ë…¸ë“œì¸ì§€ ì•Œê¸° ìœ„í•´ ì„ ì–¸í•œ boolean ë¦¬ìŠ¤íŠ¸ìž…ë‹ˆë‹¤. ìž¬ê·€ì ìœ¼ë¡œ
> get_ans í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ, ì´ë¯¸ ë„ë‹¬í–ˆë˜ ë…¸ë“œê°€ ë¶€ëª¨ë…¸ë“œì´ë¯€ë¡œ tree[idx] ì¤‘ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œë“¤ì´ ìžì‹ë…¸ë“œìž…ë‹ˆë‹¤.
>
> **get_ans(idx)** : ë¶€ëª¨ë…¸ë“œ(idx)ë¥¼ ì¸ìžë¡œ ë°›ì•„, idx ë…¸ë“œê°€ ì„ íƒë˜ì—ˆì„ ë•Œì™€ ì•ˆë˜ì—ˆì„ ë•Œ,
> idx ë…¸ë“œë¶€í„° leaf ë…¸ë“œê¹Œì§€ì˜ ê°€ì¤‘ì¹˜ì˜ í•©ê³¼ í¬í•¨ë˜ëŠ” ë…¸ë“œë“¤ì„ ë‹´ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ìž…ë‹ˆë‹¤.
{:.prompt-info}

1. ê°€ì¤‘ì¹˜ë¥¼ ìž…ë ¥ë°›ì•„ 1-based ë¡œ ì €ìž¥í•´ì¤ë‹ˆë‹¤.

2. ê°„ì„ ë“¤ì„ ìž…ë ¥ë°›ìŠµë‹ˆë‹¤. ëª¨ë“  ê°„ì„ ë“¤ì„ ìž…ë ¥ë°›ê¸° ì „ê¹Œì§€ëŠ” íŠ¸ë¦¬ê°€ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ìžˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ,
ê·¸ëž˜í”„ë¥¼ ìž…ë ¥ë°›ë“¯ì´ ë‘ ë…¸ë“œì— ì—°ê²°ëœ ë…¸ë“œë¡œ ì„œë¡œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

3. ë¶€ëª¨ë…¸ë“œì—ì„œ ìžì‹ë…¸ë“œ ë°©í–¥ìœ¼ë¡œ ê°€ì¤‘ì¹˜ì™€ ë…ë¦½ì§‘í•©ì„ ê³„ì‚°í•´ ë‚˜ê°€ì•¼ í•©ë‹ˆë‹¤.

4. í˜„ìž¬ ë…¸ë“œê°€ ì„ íƒë˜ì—ˆì„ ê²½ìš°ì™€ ì•ˆë˜ì—ˆì„ ê²½ìš°ì— ë”°ë¼ í–‰ë™ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤.
   1. í˜„ìž¬ ë…¸ë“œê°€ ì„ íƒë˜ì—ˆë‹¤ë©´ ëª¨ë“  ìžì‹ë…¸ë“œë“¤ì€ ì„ íƒë˜ì–´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤. ë”°ë¼ì„œ **í˜„ìž¬ ë…¸ë“œì˜ ê°€ì¤‘ì¹˜ì™€ (ì„ íƒí•˜ì§€ ì•Šì€ ìƒíƒœì˜ ìžì‹ë…¸ë“œë“¤ ~ leaf ë…¸ë“œì˜ ê°€ì¤‘ì¹˜ í•©) ì„
   ë”í•œ ê°’**ì´ í˜„ìž¬ ë…¸ë“œë¥¼ ì„ íƒí–ˆì„ ë•Œ í˜„ìž¬ë…¸ë“œ ~ leaf ë…¸ë“œê¹Œì§€ì˜ ê°€ì¤‘ì¹˜ì˜ í•©ì´ ë©ë‹ˆë‹¤.

   2. í˜„ìž¬ ë…¸ë“œê°€ ì„ íƒë˜ì§€ ì•Šì•˜ë‹¤ë©´ ìžì‹ ë…¸ë“œë“¤ì„ ì„ íƒí•´ë„ ë˜ê³  ì„ íƒí•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤. ì´ ë•ŒëŠ” **ê° ìžì‹ ë…¸ë“œë¥¼ ì„ íƒí–ˆì„ ë•Œì™€ ì„ íƒí•˜ì§€ ì•Šì•˜ì„ ë•Œ,
   ë‘ ê²½ìš° ì¤‘ ê°€ì¤‘ì¹˜ì˜ í•©ì´ ë” ë†’ì€ ê²ƒì„ ê³¨ë¼ì„œ ë”í•´ì£¼ë©´** í˜„ìž¬ ë…¸ë“œë¥¼ ì„ íƒí•˜ì§€ ì•Šì•˜ì„ ë•Œ í˜„ìž¬ë…¸ë“œ ~ leaf ë…¸ë“œê¹Œì§€ì˜ ê°€ì¤‘ì¹˜ì˜ í•©ì´ ë©ë‹ˆë‹¤.

5. ë…ë¦½ì§‘í•©ì˜ ê²½ìš° í˜„ìž¬ ë…¸ë“œê°€ ì„ íƒë˜ì—ˆëŠ”ì§€ ì•ˆë˜ì—ˆëŠ”ì§€ ë‚˜ëˆ„ì–´ì„œ ìƒê°í•´ì•¼ í•©ë‹ˆë‹¤.
   1. í˜„ìž¬ ë…¸ë“œê°€ ì„ íƒëœ ê²½ìš° ë…ë¦½ì§‘í•©ì— **í˜„ìž¬ ë…¸ë“œë¥¼ ì¶”ê°€**í•´ì•¼í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  **ì„ íƒí•˜ì§€ ì•Šì€ ìžì‹ ë…¸ë“œ ~
   leaf ë…¸ë“œê¹Œì§€ì˜ ë…ë¦½ì§‘í•©**ì„ í˜„ìž¬ ë…ë¦½ì§‘í•©ì— ì¶”ê°€í•´ì¤ë‹ˆë‹¤.

   2. í˜„ìž¬ ë…¸ë“œê°€ ì„ íƒë˜ì§€ ì•Šì•˜ì„ ê²½ìš°, ìžì‹ì„ ì„ íƒí–ˆì„ ë•Œì™€ ì„ íƒí•˜ì§€ ì•Šì•˜ì„ ë•Œì˜ **ê°€ì¤‘ì¹˜ í•©ì´ ë”
   ë†’ì€ ìª½ì˜ ìžì‹ ~ leaf ë…¸ë“œê¹Œì§€ì˜ ë…ë¦½ì§‘í•©**ì„ í˜„ìž¬ ë…ë¦½ì§‘í•©ì— ì¶”ê°€í•´ì¤ë‹ˆë‹¤.

6. 4ë²ˆê³¼ 5ë²ˆì—ì„œ êµ¬í•œ ê°€ì¤‘ì¹˜ì™€ ë…ë¦½ì§‘í•©ë“¤ì„ return í•´ì¤ë‹ˆë‹¤. (4ë²ˆê³¼ 5ë²ˆ ë™ìž‘ì„ í•´ì£¼ëŠ” í•¨ìˆ˜ê°€ get_ans í•¨ìˆ˜ìž…ë‹ˆë‹¤.)

7. 1ë²ˆ ë…¸ë“œë¥¼ ë£¨íŠ¸ë…¸ë“œë¡œ ì„¤ì •í•˜ì—¬ ê°€ì¤‘ì¹˜ì™€ ë…ë¦½ì§‘í•©ì„ get_ans í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í•˜ê³  ì¶œë ¥í•´ì¤ë‹ˆë‹¤.

---
## ðŸ”Ž ìœ ì˜í•  ì 

* ê°„ì„ ë“¤ì„ ë‹¤ ìž…ë ¥ë°›ê¸° ì „ê¹Œì§€ëŠ” ì–´ë–¤ ë…¸ë“œê°€ ë¶€ëª¨ ë…¸ë“œê³  ìžì‹ ë…¸ë“œì¸ì§€ ì˜¨ì „ížˆ ì•Œê¸°ëŠ” ì–´ë µìŠµë‹ˆë‹¤.
ê·¸ëž˜ì„œ ìž…ë ¥ì„ ë‹¤ ë°›ì€ í›„ ë£¨íŠ¸ë…¸ë“œë¶€í„° ìžì‹ë…¸ë“œê¹Œì§€ tree ë¥¼ íŒŒì•…í•˜ê³  íƒìƒ‰ì„ ì‹œìž‘í•˜ê±°ë‚˜,
ë°©ë¬¸ì—¬ë¶€ë¥¼ ì €ìž¥í•œ boolean ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ íƒìƒ‰í•´ê°€ë©° ì–´ë–¤ ë…¸ë“œê°€ ë¶€ëª¨ë…¸ë“œì´ê³  ìžì‹ë…¸ë“œì¸ì§€ íŒŒì•…í•´ì•¼ í•©ë‹ˆë‹¤.

* ë§ˆì§€ë§‰ ë…ë¦½ì§‘í•©ì˜ ë…¸ë“œë“¤ì„ ì¶œë ¥í•  ë•Œ ì •ë ¬ì„ í•œ í›„ ì¶œë ¥í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

---

## ðŸ’» ì½”ë“œ

```python
from sys import stdin

input = stdin.readline


def solve():
    N = int(input())
    arr = [0, *map(int, input().split())]

    tree = [[] for _ in range(N + 1)]
    for _ in range(N-1):
        a, b = map(int, input().split())
        tree[a].append(b)
        tree[b].append(a)

    visited = [False] * (N + 1)

    def get_ans(idx):
        visited[idx] = True
        sel_w, nsel_w = arr[idx], 0
        sel_n, nsel_n = [idx], []

        for nxt in tree[idx]:
            if not visited[nxt]:
                w_sel, w_nsel, n_sel, n_nsel = get_ans(nxt)
                sel_w += w_nsel
                sel_n += n_nsel
                if w_sel > w_nsel:
                    nsel_w += w_sel
                    nsel_n += n_sel
                else:
                    nsel_w += w_nsel
                    nsel_n += n_nsel

        return sel_w, nsel_w, sel_n, nsel_n

    wa, wb, na, nb = get_ans(1)

    if wa > wb:
        print(wa)
        print(*sorted(na))
    else:
        print(wb)
        print(*sorted(nb))


if __name__ == '__main__':
    solve()
```
