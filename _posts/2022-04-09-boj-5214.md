---
title: "[ë°±ì¤€ 5214] í™˜ìŠ¹ (íŒŒì´ì¬ / Python)"
author: HashTable
categories: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, BFS]
date: 2022-04-07 01:42:00 +0900
---


---
## ğŸ“‘ ë¬¸ì œ

ë¬¸ì œë§í¬ : [í™˜ìŠ¹](https://www.acmicpc.net/problem/5214){:target="_blank"}

---

## ğŸ¯ í’€ì´ë°©ë²•

**BFS** ë¬¸ì œì´ë‹¤.

> **arr** : í•˜ì´í¼íŠœë¸Œ ë¦¬ìŠ¤íŠ¸
>
> **hyper** : ê° ì—­ì´ ì¡´ì¬í•˜ëŠ” í•˜ì´í¼íŠœë¸Œ idxë¥¼ ë‹´ì€ ë¦¬ìŠ¤íŠ¸
>
> **visited** : ì´ë¯¸ ë°©ë¬¸í•œ ì—­ì˜ ë²ˆí˜¸
>
> **que** & **new_que** : BFSë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•œ í
>
> **cur** : BFSì—ì„œ í˜„ì¬ ì—­ì˜ ë²ˆí˜¸
>
> **nxt** : BFSì—ì„œ curê³¼ ê°™ì€ í•˜ì´í¼ íŠœë¸Œì— ìˆìœ¼ë©´ì„œ ë°©ë¬¸í•œ ì  ì—†ëŠ” ì—­
>
> **ans** : ë‹µìœ¼ë¡œ BFSì˜ ë‹¨ê³„
{:.prompt-info}

1. ë¬¸ì œì˜ ì¡°ê±´ë“¤ì„ ì…ë ¥ë°›ê³  ì´ˆê¸°í™”

2. queì— 1ë²ˆ ì—­ì„ ë„£ê³ , visited[1] = Trueë¡œ ì„¤ì •

3. queì— ì›ì†Œê°€ ìˆì„ ë™ì•ˆ ê³„ì†í•´ì„œ BFSë¥¼ ìˆ˜í–‰í•œë‹¤. ë§Œì•½ ì›ì†Œê°€ ì—†ë‹¤ë©´ 6ë²ˆìœ¼ë¡œ ê°„ë‹¤.

4. queì—ì„œ ì›ì†Œë¥¼ í•˜ë‚˜ì”© êº¼ë‚´ì–´( = cur ) í˜„ì¬ ì—­ì´ Në²ˆ ì—­ì´ë¼ë©´ ansë¥¼ return, ì•„ë‹ˆë¼ë©´ ë‹¤ìŒì„ ìˆ˜í–‰

1. curì´ ì¡´ì¬í•˜ëŠ” í•˜ì´í¼íŠœë¸Œì— ì¡´ì¬í•˜ëŠ” curì´ ì•„ë‹Œ ì—­ë“¤ ì¤‘, ì•„ì§ ë°©ë¬¸í•˜ì§€ ì•Šì€ ì—­ë“¤( = nxt )ì„ new_queì— ë„£ì–´ì¤€ë‹¤.

2. visited[nxt] = Trueë¥¼ í•´ì¤€ë‹¤.

3. ì´ë¯¸ ì´ìš©í•œ í•˜ì´í¼íŠœë¸Œë“¤ì€ ë‹¤ìŒì— ë˜ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ë¯€ë¡œ, ì‚¬ìš©í•œ í•˜ì´í¼íŠœë¸Œì—ëŠ” ì•„ë¬´ ì—­ì´ ì—†ë„ë¡ ì´ˆê¸°í™”ì‹œí‚¨ë‹¤.

5. ansë¥¼ í•˜ë‚˜ ëŠ˜ë ¤ì£¼ê³  queì— new_queë¥¼ í• ë‹¹í•´ì£¼ë©° 3ë²ˆìœ¼ë¡œ ê°„ë‹¤.

6. Në²ˆì§¸ ì—­ìœ¼ë¡œ ê°ˆ ìˆ˜ ì—†ëŠ” ê²ƒì´ë¯€ë¡œ -1 return.



---

## ğŸ’» ì½”ë“œ

```python
from sys import stdin

input = stdin.readline


def solve():
    N, K, M = map(int, input().split())
    if N == 1:
        return 1
    arr = [[*map(int, input().split())] for _ in range(M)]

    # hyper[i] = [j] --> jë²ˆì§¸ í•˜ì´í¼íŠœë¸Œì— ië²ˆ ì—­ì´ ìˆë‹¤
    hyper = [[] for _ in range(N + 1)]
    for i in range(M):
        for j in arr[i]:
            hyper[j].append(i)

    visited = [False] * (N + 1)
    visited[1] = True

    que, ans = [1], 1
    # bfs
    while que:
        new_que = []
        for _ in range(len(que)):
            cur = que.pop()
            if cur == N:
                return ans
            # curì—­ì´ ì¡´ì¬í•˜ëŠ” í•˜ì´í¼ íŠœë¸Œë¥¼ ëŒë©´ì„œ ë‹¤ìŒì— ê°ˆ ìˆ˜ ìˆëŠ” ì—­ì„ queì— ë„£ì–´ì¤€ë‹¤
            for h in hyper[cur]:
                for nxt in arr[h]:
                    if not visited[nxt]:
                        new_que.append(nxt)
                        visited[nxt] = True

                # í•˜ì´í¼ íŠœë¸ŒëŠ” í•œ ë²ˆë§Œ ì´ìš©ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ë¹„ì›Œì¤€ë‹¤
                arr[h] = []

        que = new_que
        ans += 1

    return -1


if __name__ == '__main__':
    print(solve())
```
